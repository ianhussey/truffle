% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/truffle_likert.R
\name{truffle_likert}
\alias{truffle_likert}
\title{Generate Likert-Scale Data for Two-Group or Single-Group (Cross-Sectional) Designs}
\usage{
truffle_likert(
  study_design = "factorial_between2",
  n_per_condition = 100,
  factors = NULL,
  prefixes = NULL,
  alpha = 0.7,
  n_items,
  n_levels = 7,
  r_among_outcomes = 0.3,
  approx_d_between_groups = 0.5,
  condition_names = c("control", "treatment"),
  seed = NULL,
  lv_var = 1,
  x_var = 1,
  return_continuous = FALSE
)
}
\arguments{
\item{study_design}{Character scalar. One of \code{"factorial_between2"} (default)
or \code{"crosssectional"}.}

\item{n_per_condition}{Integer. For \code{"factorial_between2"}: participants per group.
For \code{"crosssectional"}: total N.}

\item{factors}{Character vector (length K). Latent factor names. If \code{NULL},
defaults to \code{X1_latent}, \code{X2_latent}, ...}

\item{prefixes}{Character vector (length K). Item name prefixes per factor.
If \code{NULL}, defaults to \code{X1_item}, \code{X2_item}, ...}

\item{alpha}{Numeric scalar or length-K vector. Target Cronbach's alpha per factor (default 0.70).}

\item{n_items}{Integer vector (length K). Number of items per factor (each >= 2).}

\item{n_levels}{Integer. Number of Likert categories (default 7).}

\item{r_among_outcomes}{Either a single latent correlation in (-1,1) applied to all
pairs, or a K x K latent correlation matrix (symmetric, unit diagonal).}

\item{approx_d_between_groups}{Numeric. Only used for \code{"factorial_between2"}.
Either a scalar \(d\) applied to all latents or a length-K vector (optionally named).}

\item{condition_names}{Character length-2 vector of group labels (default c("control","treatment")).
Ignored for \code{"crosssectional"}.}

\item{seed}{Optional integer seed.}

\item{lv_var}{Numeric scalar or length-K vector of latent variances (default 1).}

\item{x_var}{Numeric scalar or length-K vector of item variances (default 1).}

\item{return_continuous}{Logical. If TRUE, return a list including continuous data and model strings.}
}
\value{
If \code{return_continuous = FALSE}:
\itemize{
\item \code{"factorial_between2"}: data frame with \code{id}, \code{condition}, and item columns.
\item \code{"crosssectional"}: data frame with \code{id} and item columns.
}

If \code{return_continuous = TRUE}:
\itemize{
\item \code{"factorial_between2"}: list with \code{dat_lik}, \code{dat_ctrl_cont}, \code{dat_treat_cont},
\code{item_cols}, \code{models} (base/ctrl/treat), and \code{d_per_factor}.
\item \code{"crosssectional"}: list with \code{dat_lik}, \code{dat_cont}, \code{item_cols},
and \code{models} (base and means=0).
}
}
\description{
Simulate item-level Likert data under a multi-factor latent variable model.
Supports:
(a) two independent groups with latent mean shifts ("factorial_between2"), or
(b) a single-group cross-sectional design with specified latent correlations
("crosssectional").
}
\examples{
\dontrun{
# Cross-sectional, three factors, scalar r among latents
dat_cs <- truffle_likert(
  study_design = "crosssectional",
  n_items   = c(5, 6, 7),
  alpha     = c(.70, .75, .80),
  r_among_outcomes = 0.3,
  n_per_condition = 500, # total N in cross-sectional mode
  n_levels  = 5,
  seed = 123
)

# Cross-sectional with a custom latent correlation matrix
R <- matrix(c(
  1,   .4, .2,
  .4,   1, .3,
  .2,  .3, 1
), 3, 3, byrow = TRUE)
dat_cs2 <- truffle_likert(
  study_design = "crosssectional",
  n_items   = c(4, 4, 4),
  alpha     = .75,
  r_among_outcomes = R,
  n_per_condition = 400,
  seed = 42
)

# Three-factor example with a common d applied to all latents
dat <- truffle_likert(
  study_design = "factorial_between2",
  n_items     = c(5, 6, 7),
  alpha       = c(.70, .75, .80),
  factors     = c("X1_latent","X2_latent","X3_latent"),
  prefixes    = c("X1_item","X2_item","X3_item"),
  r_among_outcomes = 0.3,
  approx_d_between_groups = 0.5,
  n_per_condition = 300,
  n_levels    = 5,
  seed = 123
)

# Per-latent d's (named vector, order-independent)
dat2 <- truffle_likert(
  n_items   = c(5, 6, 7),
  alpha     = .75,
  approx_d_between_groups = c(X2_latent = 0.2, X1_latent = 0.5, X3_latent = 0.1),
  seed = 42
)
}

}
