% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/make_lavaan_kfactor_corr.R
\name{.make_lavaan_kfactor_corr}
\alias{.make_lavaan_kfactor_corr}
\title{Build a K-Factor Correlated Latent Variable Model for lavaan}
\usage{
.make_lavaan_kfactor_corr(
  n_items,
  alpha = 0.7,
  lv_var = 1,
  x_var = 1,
  factors = NULL,
  prefixes = NULL,
  corr_latent = 0.3,
  round_loading = 3,
  signif_resid = 6,
  signif_cov = 6
)
}
\arguments{
\item{n_items}{Integer vector giving the number of items per factor.}

\item{alpha}{Numeric vector of target Cronbach's alpha reliabilities
for each factor.}

\item{lv_var}{Numeric scalar or vector; latent variances (default = 1).}

\item{x_var}{Numeric scalar or vector; item variances (default = 1).}

\item{factors}{Character vector of latent factor names.}

\item{prefixes}{Character vector of item name prefixes.}

\item{corr_latent}{Either a single numeric correlation applied across all
latent pairs, or a full correlation matrix.}
}
\value{
A character string representing a lavaan model specification,
including measurement models, latent variances, residual variances,
and latent correlations.
}
\description{
This function constructs a lavaan model string for simulating data from
K correlated latent factors, each with a specified number of items and
target reliability (Cronbach’s alpha).
}
\details{
Each block is built by converting Cronbach’s alpha to an average
inter-item correlation, then to a factor loading. Residual variances are
calculated so that item variances equal \code{x_var}. The function allows
specifying either a single common correlation between factors, or a full
correlation matrix.
}
\examples{
\dontrun{
mod <- make_lavaan_kfactor_corr(
  n_items     = c(5, 6, 7),
  alpha       = c(.70, .75, .80),
  lv_var      = 1,
  x_var       = 1,
  factors     = c("X1_latent","X2_latent","X3_latent"),
  prefixes    = c("X1_item","X2_item","X3_item"),
  corr_latent = 0.3
)
cat(mod)
}

}
